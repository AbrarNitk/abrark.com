<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learning Resources</title>
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
          integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
          crossorigin="anonymous" referrerpolicy="no-referrer"/>
    <style>
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
    </style>
    <script src="https://unpkg.com/@tailwindcss/browser@4"></script>
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/layout.css">
    <link rel="stylesheet" href="/css/prose.css">
    <link rel="stylesheet" href="/css/code-block.css">
    <script src="/js/main.js"></script>
</head>


<body class="leading-relaxed font-sans">

<header class="px-8 py-4 flex items-center justify-between" style="background-color: var(--color-bg-primary);">
    <div class="flex items-center space-x-8">
        <a href="https://www.abrark.com" class="text-accent font-bold text-xl">
<!--   TODO:         {{site.title}}-->
        AK
        </a>
        <nav class="flex items-center space-x-4">

            <!-- Sections -->

            {{#each sections}}

                {{#if this.is_selected}}
                    <a href="{{this.link.url}}" class="text-accent">{{this.link.text}}</a>
                {{else}}
                    <a href="{{this.link.url}}" class="hover:text-accent" style="color: var(--color-text-primary);">{{this.link.text}}</a>
                {{/if}}
            {{/each}}
            <!--TODO: handle which selection is selected there should be border around it -->
            <!--            <a href="#" class="hover:text-yellow-500">Explore</a>-->
            <!--            <a href="#" class="border-b-2 border-yellow-500 text-yellow-500">Learn</a>-->

        </nav>
    </div>

    <div class="flex items-center space-x-4">
        <a href="https://www.github.com/AbrarNitk" class="hover:text-accent" style="color: var(--color-text-primary);"><i class="fab
        fa-github"></i></a>
        <div class="relative">
            <input
                    type="text"
                    placeholder="Search"
                    class="text-gray-200 pl-8 pr-2 py-1 rounded focus:outline-none"
                    style="background-color: var(--color-bg-secondary);"
            />
            <i class="fa fa-search absolute top-2 left-2" style="color: var(--color-text-secondary);"></i>
        </div>
        <button id="theme-toggle" class="p-1 rounded-full" style="background-color: var(--color-bg-secondary);">
            <i id="theme-icon" class="fa fa-sun" style="color: var(--color-accent);"></i>
        </button>
        <a href="#" class="hover:text-accent" style="color: var(--color-text-primary);"><i class="fa-regular fa-bell"></i></a>
    </div>
</header>

<!--SubSections -->
<div class="px-8 py-3 flex items-center justify-between" style="background-color: var(--color-bg-secondary); color: var(--color-text-secondary);">

    <div>
        <!--        <span class="text-white">Learn</span>-->
        <!--        <span class="mx-2">â†’</span>-->
        <!--        <span class="text-white">Learning Resources</span>-->
    </div>

    <div class="flex items-center space-x-4">

        {{#each subsections}}
            {{#if this.is_selected}}
                <a href="{{this.link.url}}" style="color: var(--color-text-primary);">{{this.link.text}}</a>
            {{else}}
                <a href="{{this.link.url}}" style="color: var(--color-text-secondary);" class="hover:text-white">{{this.link.text}}</a>
            {{/if}}
        {{/each}}

        <!--        <a href="#" class="hover:text-white">Learn</a>-->
        <!--        <a href="#" class="hover:text-white">Featured Components</a>-->
    </div>

</div>

<div class="mx-auto flex">
    <aside class="w-64 sticky top-0 h-screen overflow-y-auto p-6" style="background-color: var(--color-bg-primary); color: var(--color-text-secondary);">
        {{#each toc.items}}
                {{#if this.is_selected}}
                    <h2 class="text-accent mb-4">
                        <a href="{{this.link.url}}">{{this.link.text}}</a>
                    </h2>
                {{else}}
                    <h2 class="hover:text-accent mb-4" style="color: var(--color-text-primary);">
                        <a href="{{this.link.url}}">{{this.link.text}}</a>
                    </h2>
                {{/if}}
            <!-- todo: It must create the  dropdown menu id sub-toc presents -->
            <ul class="space-y-2">
                {{#each this.sub_toc}}
                    {{#if this.is_selected}}
                        <li class="pl-4 pb-4">
                            <a href="{{this.link.url}}"
                               class="text-accent">{{this.link.text}}</a>
                        </li>
                    {{else}}
                        <li class="pl-4 pb-4">
                            <a href="{{this.link.url}}"
                               class="hover:text-accent" style="color: var(--color-text-secondary);">{{this.link.text}}</a>
                        </li>
                    {{/if}}
                {{/each}}
            </ul>
        {{/each}}
    </aside>


    <!-- Main Content Area Starts   -->
    <main class="flex-1 p-6 overflow-y-scroll no-scrollbar" style="background-color: var(--color-bg-primary);">


        <article
                class="prose prose-base md:prose-lg lg:prose-xl dark:prose-invert prose-img:rounded-xl">

            {{{ content }}}
        </article>

    </main>
    <!-- Main Content Area Ends   -->

</div>

<script>
    const themeToggle = document.getElementById('theme-toggle');
    const themeIcon = document.getElementById('theme-icon');

    // Check for saved theme preference or use system preference
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme === 'dark' || 
        (!savedTheme && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
        document.documentElement.classList.add('dark');
        themeIcon.classList.replace('fa-sun', 'fa-moon');
    }

    themeToggle.addEventListener('click', () => {
        document.documentElement.classList.toggle('dark');
        
        if (document.documentElement.classList.contains('dark')) {
            themeIcon.classList.replace('fa-sun', 'fa-moon');
            localStorage.setItem('theme', 'dark');
        } else {
            themeIcon.classList.replace('fa-moon', 'fa-sun');
            localStorage.setItem('theme', 'light');
        }
    });
</script>

</body>
</html>